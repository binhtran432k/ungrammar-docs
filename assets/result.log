❯ bun test
bun test v1.1.21 (70ca2b76)
                                                                                                                                   
packages/ungrammar-lezer/test/index.test.ts:
✓ Ungrammar Lezer rule > Simple rule [7.93ms]
✓ Ungrammar Lezer rule > Optional rule [1.22ms]
✓ Ungrammar Lezer rule > Repeat rule [2.04ms]
✓ Ungrammar Lezer rule > Group rule [0.98ms]
✓ Ungrammar Lezer rule > Alternative rule [0.69ms]
✓ Ungrammar Lezer rule > Sequence rule [0.56ms]
✓ Ungrammar Lezer rule > Label rule [0.26ms]
✓ Ungrammar Lezer rule > Complex rule [1.32ms]
✓ Ungrammar Lezer rule > Invalid rule - Unclosed group [0.41ms]
✓ Ungrammar Lezer token > Simple token [0.31ms]
✓ Ungrammar Lezer token > Empty token [0.13ms]
✓ Ungrammar Lezer token > Escaped token [0.27ms]
✓ Ungrammar Lezer token > Invalid token - Unexpected escape [0.19ms]
✓ Ungrammar Lezer token > Invalid token - Unclosed [0.24ms]
✓ Ungrammar Lezer comment > Single comment [0.23ms]
✓ Ungrammar Lezer comment > Multiple comments [0.12ms]
✓ Ungrammar Lezer comment > Mixed comments [0.28ms]
✓ Ungrammar Lezer document > Empty document [0.14ms]
✓ Ungrammar Lezer document > Simple document [0.35ms]
✓ Ungrammar Lezer document > Invalid document [1.37ms]
✓ Ungrammar Lezer node > Single node [0.18ms]
✓ Ungrammar Lezer node > Multiple node [0.16ms]
✓ Ungrammar Lezer node > Invalid node - Missing head [0.23ms]
✓ Ungrammar Lezer node > Invalid node - Missing = [0.59ms]
✓ Ungrammar Lezer node > Invalid node - Missing body [0.37ms]
✓ Ungrammar Lezer identifier > Simple identifier [0.13ms]
✓ Ungrammar Lezer identifier > Invalid identifier [0.24ms]
✓ Ungrammar Lezer unwritable > Unexpected \r [0.17ms]
                                                                                                                                   
packages/ungrammar-languageservice/src/test/codeLens.test.ts:
✓ Ungrammar CodeLens > CodeLens Single [5.24ms]
✓ Ungrammar CodeLens > CodeLens Multiple [0.97ms]
✓ Ungrammar CodeLens > CodeLens Have Reference [1.98ms]
✓ Ungrammar CodeLens > CodeLens Comment [0.47ms]
                                                                                                                                   
packages/ungrammar-languageservice/src/test/definition.test.ts:
✓ Ungrammar Definition > Definition Beginning [5.89ms]
✓ Ungrammar Definition > Definition Definition [2.21ms]
✓ Ungrammar Definition > Definition Identifier [1.14ms]
✓ Ungrammar Definition > Definition Token [0.76ms]
✓ Ungrammar Definition > Definition Comment [0.61ms]
✓ Ungrammar Definition > Definition Undefined Identifier [0.71ms]
✓ Ungrammar Definition > Definition Redeclare Definition [0.94ms]
                                                                                                                                   
packages/ungrammar-languageservice/src/test/completion.test.ts:
✓ Ungrammar Completion > Complete Single Node [3.61ms]
✓ Ungrammar Completion > Complete Multiple Nodes [1.00ms]
✓ Ungrammar Completion > Complete token [0.82ms]
✓ Ungrammar Completion > Complete comment [0.54ms]
                                                                                                                                   
packages/ungrammar-languageservice/src/test/documentSymbols.test.ts:
✓ Ungrammar Document Symbols > Document Symbols Single [1.18ms]
✓ Ungrammar Document Symbols > Document Symbols Multiple [1.16ms]
✓ Ungrammar Document Symbols > Document Symbols Comment [0.39ms]
                                                                                                                                   
packages/ungrammar-languageservice/src/test/rename.test.ts:
✓ Check Identifier > Valid Simple [1.63ms]
✓ Check Identifier > Valid With Underscore [0.09ms]
✓ Check Identifier > Invalid alphabetic [0.58ms]
✓ Check Identifier > Invalid number [0.06ms]
✓ Check Identifier > Invalid dash [0.07ms]
✓ Ungrammar Rename > Rename Beginning [1.80ms]
✓ Ungrammar Rename > Rename Reference [1.33ms]
✓ Ungrammar Rename > Rename Identifier [2.35ms]
✓ Ungrammar Rename > Rename Token [1.10ms]
✓ Ungrammar Rename > Rename Comment [2.09ms]
✓ Ungrammar Rename > Rename Undefined Identifier [0.98ms]
✓ Ungrammar Rename > Rename Multiple Undefined Identifier [1.74ms]
✓ Ungrammar Rename > Rename Redeclare Definition [1.84ms]
✓ Ungrammar Rename > Rename with Invalid New Name [0.69ms]
                                                                                                                                   
packages/ungrammar-languageservice/src/test/hover.test.ts:
✓ Ungrammar Hover > Hover Beginning [4.00ms]
✓ Ungrammar Hover > Hover Definition [0.74ms]
✓ Ungrammar Hover > Hover Identifier [0.77ms]
✓ Ungrammar Hover > Hover Comment [1.92ms]
✓ Ungrammar Hover > Hover Token [2.38ms]
                                                                                                                                   
packages/ungrammar-languageservice/src/test/ast.test.ts:
✓ Ungrammar AST > Invalid Escape [1.16ms]
✓ Ungrammar AST > Unexpected \r [0.48ms]
✓ Ungrammar AST > End token ' expected [0.58ms]
✓ Ungrammar AST > End group ) expected [1.57ms]
✓ Ungrammar AST > Definition expected [0.76ms]
✓ Ungrammar AST > Node child expected [0.39ms]
✓ Ungrammar AST > Unexpected Identifier with digit or dash [0.88ms]
✓ Ungrammar AST > Unexpected [0.67ms]
✓ Ungrammar AST > Redeclare definition [0.49ms]
✓ Ungrammar AST > Undefined identifier [0.81ms]
✓ Ungrammar AST > Valid Node [0.36ms]
✓ Ungrammar AST > Valid Token [0.22ms]
✓ Ungrammar AST > Valid Optional [0.49ms]
✓ Ungrammar AST > Valid Repeat [1.32ms]
✓ Ungrammar AST > Valid Label [0.84ms]
✓ Ungrammar AST > Valid Group [0.58ms]
✓ Ungrammar AST > Valid Alternative [0.97ms]
✓ Ungrammar AST > Valid Comment [0.27ms]
                                                                                                                                   
packages/ungrammar-languageservice/src/test/format.test.ts:
✓ Ungrammar Formatting > Formatting Node [6.53ms]
✓ Ungrammar Formatting > Formatting Alternative [1.25ms]
✓ Ungrammar Formatting > Formatting Alternative Split Multiple Line [1.30ms]
✓ Ungrammar Formatting > Formatting Sequence [0.68ms]
✓ Ungrammar Formatting > Formatting Sequence Split Multiple Line [0.91ms]
✓ Ungrammar Formatting > Formatting Group [1.03ms]
✓ Ungrammar Formatting > Formatting Group Alternative Split [0.95ms]
✓ Ungrammar Formatting > Formatting Group Sequence Split [0.73ms]
✓ Ungrammar Formatting > Formatting Comment Beginning [0.40ms]
✓ Ungrammar Formatting > Formatting Comment Trim Trailing Space [2.05ms]
✓ Ungrammar Formatting > Formatting Multiple Comments [1.54ms]
✓ Ungrammar Formatting > Formatting Comment Middle [0.67ms]
✓ Ungrammar Formatting > Formatting Long Middle Comment After Identifier [1.22ms]
✓ Ungrammar Formatting > Formatting Long Middle Comment After Token [0.59ms]
✓ Ungrammar Formatting > Formatting Long Middle Comment After Group [0.59ms]
✓ Ungrammar Formatting > Formatting Long Middle Comment After Sequence [0.50ms]
✓ Ungrammar Formatting > Formatting Long Middle Comment After Alternative [1.12ms]
✓ Ungrammar Formatting > Formatting Long Middle Comment After Repeat [1.38ms]
✓ Ungrammar Formatting > Formatting Long Middle Comment After Optional [0.95ms]
✓ Ungrammar Formatting > Formatting Long Middle Comment After Label [0.76ms]
✓ Ungrammar Formatting > Formatting Long Middle Comment End [0.37ms]
✓ Ungrammar Formatting > Formatting Comment Inside Alternative [0.38ms]
✓ Ungrammar Formatting > Formatting Comment Inside Sequence [0.52ms]
✓ Ungrammar Formatting > Formatting Comment Inside Group [0.68ms]
✓ Ungrammar Formatting > Formatting Long Comment Inside Sequence After Label [0.74ms]
✓ Ungrammar Formatting Range > Formatting Range First [0.72ms]
✓ Ungrammar Formatting Range > Formatting Range Middle [0.52ms]
✓ Ungrammar Formatting Range > Formatting Range Last [0.48ms]
                                                                                                                                   
packages/ungrammar-languageservice/src/test/folding.test.ts:
✓ Ungrammar Folding Ranges > Folding Ignore Single Line [2.62ms]
✓ Ungrammar Folding Ranges > Folding Multiline [0.57ms]
✓ Ungrammar Folding Ranges > Folding Ignore Comment [0.32ms]
                                                                                                                                   
packages/ungrammar-languageservice/src/test/semanticTokens.test.ts:
✓ Ungrammar Semantic Tokens Legend > Token Modifiers must be unique [0.09ms]
✓ Ungrammar Semantic Tokens Legend > Token Types must be unique [0.09ms]
✓ Ungrammar Semantic Tokens > Semantic Tokens Definition [2.50ms]
✓ Ungrammar Semantic Tokens > Semantic Tokens Token [0.66ms]
✓ Ungrammar Semantic Tokens > Semantic Tokens Identifier [0.53ms]
✓ Ungrammar Semantic Tokens > Semantic Tokens Comment [0.31ms]
✓ Ungrammar Semantic Tokens > Semantic Tokens Alternative [0.67ms]
✓ Ungrammar Semantic Tokens > Semantic Tokens Optional [0.49ms]
✓ Ungrammar Semantic Tokens > Semantic Tokens Repeat [0.44ms]
✓ Ungrammar Semantic Tokens > Semantic Tokens Label [0.36ms]
✓ Ungrammar Semantic Tokens > Semantic Tokens Group [0.47ms]
                                                                                                                                   
packages/ungrammar-languageservice/src/test/reference.test.ts:
✓ Ungrammar References > Reference Beginning [1.59ms]
✓ Ungrammar References > Reference Reference [0.39ms]
✓ Ungrammar References > Reference Not Include Declaration [0.34ms]
✓ Ungrammar References > Reference Identifier [0.36ms]
✓ Ungrammar References > Reference Token [0.37ms]
✓ Ungrammar References > Reference Comment [0.27ms]
✓ Ungrammar References > Reference Undefined Identifier [0.33ms]
✓ Ungrammar References > Reference Multiple Undefined Identifier [0.46ms]
✓ Ungrammar References > Reference Redeclare Definition [0.47ms]

packages/ungrammar-languageservice/src/test/codeAction.test.ts:
✓ Transform Case > Split Camel Case [0.25ms]
✓ Transform Case > Split Pascal Case [0.06ms]
✓ Transform Case > Split Pascal Case Multiple Uppercase [0.11ms]
✓ Transform Case > Split Snake Case [0.08ms]
✓ Transform Case > Split Constant Case [0.11ms]
✓ Transform Case > To Camel Case [0.22ms]
✓ Transform Case > To Pascal Case [0.05ms]
✓ Transform Case > To Snake Case [0.09ms]
✓ Transform Case > To Constant Case [0.10ms]
✓ Ungrammar Code Action > Code Action on Node [1.09ms]
✓ Ungrammar Code Action > Code Action on Token [0.46ms]
✓ Ungrammar Code Action > Code Action on Comment [0.34ms]

packages/ungrammar-languageservice/src/test/selection.test.ts:
✓ Ungrammar Selection Ranges > Selection Node [3.01ms]
✓ Ungrammar Selection Ranges > Selection Token [0.29ms]
✓ Ungrammar Selection Ranges > Selection Alternative [0.36ms]
✓ Ungrammar Selection Ranges > Selection Sequence [0.26ms]
✓ Ungrammar Selection Ranges > Selection Group [0.52ms]
✓ Ungrammar Selection Ranges > Selection Complex [0.91ms]
✓ Ungrammar Selection Ranges > Selection Comment [0.24ms]

 153 pass
 0 fail
 162 expect() calls
Ran 153 tests across 14 files. [589.00ms]
